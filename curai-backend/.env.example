# =============================================================================
# Cura AI Backend - Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control
# =============================================================================

# -----------------------------------------------------------------------------
# Required API Keys (YOU MUST PROVIDE THESE)
# -----------------------------------------------------------------------------
OPENROUTER_API_KEY=your_openrouter_key_here
PINECONE_API_KEY=your_pinecone_key_here

# -----------------------------------------------------------------------------
# Pinecone Configuration
# -----------------------------------------------------------------------------
PINECONE_ENVIRONMENT=us-east-1-aws
PINECONE_INDEX_NAME=curai-embeddings

# -----------------------------------------------------------------------------
# OpenRouter Model Configuration (Pipeline-Specific)
# -----------------------------------------------------------------------------
# Default model for RAG generation (free tier)
OPENROUTER_DEFAULT_MODEL=google/gemini-2.0-flash-exp:free

# Embedding model for vector generation
OPENROUTER_EMBED_MODEL=text-embedding-3-small

# Fallback model for non-critical flows
OPENROUTER_FALLBACK_MODEL=meta-llama/llama-3.1-8b-instruct:free

# Medical verification model (high-capacity, use sparingly)
OPENROUTER_MEDICAL_MODEL=nousresearch/hermes-3-llama-3.1-405b:free

# Real-time streaming model (low latency)
OPENROUTER_STREAMING_MODEL=google/gemini-2.0-flash-exp:free

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
PORT=3000
HOST=0.0.0.0

# CORS Configuration
ALLOWED_ORIGIN=http://localhost:3000

# -----------------------------------------------------------------------------
# ASR (Automatic Speech Recognition) Configuration
# -----------------------------------------------------------------------------
# Path to local whisper.cpp binary (optional, fallback to OpenRouter if not set)
WHISPER_CPP_PATH=/usr/local/bin/whisper

# Enable ASR fallback to OpenRouter if local whisper.cpp fails
ASR_FALLBACK_ENABLED=true

# -----------------------------------------------------------------------------
# TTS (Text-to-Speech) Configuration
# -----------------------------------------------------------------------------
# TTS Provider (edge-tts, local, etc.)
TTS_PROVIDER=edge-tts

# -----------------------------------------------------------------------------
# Safety & Privacy Configuration
# -----------------------------------------------------------------------------
# User consent required to store audio (24-hour retention)
CONSENT=false

# Emergency keyword detection enabled
EMERGENCY_DETECTION_ENABLED=true

# -----------------------------------------------------------------------------
# Logging & Monitoring
# -----------------------------------------------------------------------------
LOG_LEVEL=info

# Enable request logging
REQUEST_LOGGING=true

# -----------------------------------------------------------------------------
# RAG Configuration
# -----------------------------------------------------------------------------
# Number of documents to retrieve in dense search
RAG_TOP_K=8

# Number of documents to use after reranking
RAG_RERANK_TOP_K=3

# Enable two-stage retrieval (dense + rerank)
RAG_RERANK_ENABLED=true

# Reranking strategy: llm | embedding | none
RAG_RERANK_STRATEGY=llm

# -----------------------------------------------------------------------------
# Rate Limiting & Performance
# -----------------------------------------------------------------------------
# Maximum batch size for embedding operations
EMBED_BATCH_SIZE=50

# Request timeout (milliseconds)
REQUEST_TIMEOUT=30000

# WebSocket ping interval (milliseconds)
WS_PING_INTERVAL=30000

# -----------------------------------------------------------------------------
# Development & Testing
# -----------------------------------------------------------------------------
# Enable debug mode (verbose logging)
DEBUG=false

# Mock mode (use fake responses for testing without API keys)
MOCK_MODE=false
